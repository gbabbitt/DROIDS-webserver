<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
Design by Babbitt Lab at RIT
Released for free under a Creative Commons Attribution 2.5 License

Title      : DROIDS
Version    : 5.0
Released   : 2022
Description: webserver template

-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<script src = "http://127.0.0.1/dist/d3.min.js"></script>	
<script src="http://127.0.0.1/jsmol/JSmol.min.js"></script>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>DROIDS 5.0 webserver</title>
<meta name="keywords" content="" />
<meta name="description" content="" />
<link href="default.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="page">
	<div id="sidebar" style="background-color: black;">
		<div><img src="images/chalkprotein.jpg" alt="" width="340" height="220" /></div>
		<!-- end header -->
		<div id="login">
			<h2 class="title1">paths to PDB and MD files for Reference Protein</h2>
			<form id="form1" method="post" action="#">
				<fieldset>
				<label for="inputtext1">PDB ID (.pdb):</label>
				<input id="inputtext1" type="text" name="inputtext1" value="" />
				<label for="inputtext2">topology (.prmtop):</label>
				<input id="inputtext2" type="password" name="inputtext2" value="" />
				<label for="inputtext3">input coordinates (.inpcrd):</label>
				<input id="inputtext3" type="password" name="inputtext3" value="" />
				<label for="inputtext4">trajectory (.nc or .mdcrd):</label>
				<input id="inputtext4" type="password" name="inputtext4" value="" />
				</fieldset>
			</form>
		</div>
		<!-- end menu -->
		<div id="login">
			<h2 class="title1" >paths to PDB and MD files for Query Protein</h2>
			<form id="form1" method="post" action="#">
				<fieldset>
				<label for="inputtext5">PDB ID (.pdb):</label>
				<input id="inputtext5" type="text" name="inputtext5" value="" />
				<label for="inputtext6">topology (.prmtop):</label>
				<input id="inputtext6" type="password" name="inputtext6" value="" />
				<label for="inputtext7">input coordinates (.inpcrd):</label>
				<input id="inputtext7" type="password" name="inputtext7" value="" />
				<label for="inputtext8">trajectory (.nc or .mdcrd):</label>
				<input id="inputtext8" type="password" name="inputtext8" value="" />
				<input id="inputsubmit1" type="submit" name="inputsubmit1" value="submit files" />
				<input id="inputsubmit2" type="submit" name="inputsubmit2" value="analyze files" />
				<label for="inputtext9">path to ChimeraX bin folder and ChimeraX.exe:</label>
				<input id="inputtext9" type="password" name="inputtext9" value="" />
				<input id="inputsubmit3" type="submit" name="inputsubmit3" value="visualize results -ChimeraX" />
				</fieldset>
			</form>
		    <button onClick="document.location.href = 'maxdemon.html'" style="padding: 16px; background-color: darkred; color:white; border-radius: 4px; font-size: 14px;">find conserved dynamics</button>
		</div>
	</div>
	<!-- end sidebar -->
	<div id="content">
		<div><img src="images/chalkboard.jpg" alt="" width="740" height="220" /></div>
		<div class="boxed">
			<h1 class="title2">DROIDS 5.0 webserver - statistical machine learning for comparative protein dynamics</h1>
			<p><strong>DROIDS 5.0</strong> is a free software from the Babbitt Lab at the Rochester Institute of Technology <a href="https://people.rit.edu/gabsbi/">Lab Website</a> released under a <a href="http://creativecommons.org/licenses/by/2.5/">Creative Commons Attribution 2.5 License</a>. It is free to use for commercial or personal use. We only ask that you cite us when you publish. For more details see our <a href="https://gbabbitt.github.io/DROIDS-4.0-comparative-protein-dynamics/">GitHub Pages</a><em>  Enjoy :)</em></p>
			<h3>What does it do?</h3>
			<p>DROIDS software samples atom fluctuations and correlations from your MD runs to build feature vectors for machine learning at every amino acid site. It then applies Gaussian kernel process machine learning and reproducing kernel Hilbert space to define the maximum mean discrepancy (i.e. feature distance) between the molecular dynamics of the comparative functional states of your reference and query (e.g. bound vs. unbound protein, mutated vs. wildtype protein etc.). A two sample statistical test corrected for false discovery rate is employed to identify where the dynamics of these protein functional states differ. The results can be mapped to protein structure in UCSF ChimeraX. </p>
		<h3>Load some pre-calculated examples</h3>
		<h3></h3>
		  <button onClick="myExample1()" style="padding: 16px; background-color: darkgreen; color:aliceblue; border-radius: 4px;font-size: 14px">e.g. DNA / TATA binding protein</button>
		  <button onClick="myExample2()" style="padding: 16px; background-color: darkred; color:aliceblue; border-radius: 4px;font-size: 14px">e.g. SARS-CoV-2 / ACE2 </button>
		  <button onClick="myExample3()" style="padding: 16px; background-color: darkblue; color:aliceblue; border-radius: 4px;font-size: 14px">e.g. sorafenib / B-Raf kinase </button>
		<h3></h3>
		</div>
		<div class="boxed orange">
			<div class="col-one">
				<h2 class="title3">Query Protein Structure</h2>
					<div id="view1"></div>
				</div>
			<div class="col-two">
				<h2 class="title3">Reference Protein Structure</h2>
				<div id="view2"></div>
			</div>
			<div style="clear: both;">&nbsp;</div>
		</div>
		<h3>-mapping KL divergence/significance in dynamics </h3>
		<div class="boxed orange">
			<div class="col-one">
				<h2 class="title3">KL (blue=dampened, red=amplified)</h2>
				<div id="view3"></div>
			</div>
			<div class="col-two">
				<h2 class="title3">P value significance (black=ns, red=signif)</h2>
				<div id="view4"></div>
			</div>
			<div style="clear: both;">&nbsp;</div>
			</div>
		<h3>-mapping max mean discrepancy/significance in learned features</h3>
		<div class="boxed orange">
			<div class="col-one">
				<h2 class="title3">MMD (blue=dampened, red=amplified)</h2>
				<div id="view5"></div>
			</div>
			<div class="col-two">
				<h2 class="title3">P value significance (black=ns, red=signif)</h2>
				<div id="view6"></div>
			</div>
			<div style="clear: both;">&nbsp;</div>
			</div>
		<h3>-site-wise divergence/significance to changes in dynamics </h3>
		<div></div>
		<div></div>		
				
		
		
	
	
	
  
</body>
 <!-- end content -->
<!-- end page -->

<!-- Footer Scripts
	=============================================
	JSmol panels
	-->
	
<script>
Jmol._isAsync = false;
Jmol.setDocument(0);
const Info = {
  width: "100%",
  height: "100%",
  use: "HTML5",
  j2sPath: "http://127.0.0.1/jsmol/j2s/",
  script: "set antialiasDisplay; set zoomHeight true;",
  serverURL: "http://127.0.0.1/jsmol/php/jsmol.php",
  disableJ2SLoadMonitor: true,
  disableInitialConsole: true
};

Jmol.getApplet("jmolview1", Info);
Jmol.getApplet("jmolview2", Info);
Jmol.getApplet("jmolview3", Info);
Jmol.getApplet("jmolview4", Info);
Jmol.getApplet("jmolview5", Info);
Jmol.getApplet("jmolview6", Info);

function myExample1() {
  Jmol.script(jmolview1, "load /my_examples/1cdw/1cdw_boundREDUCED.pdb");
	Jmol.script(jmolview1, "rotate");
	Jmol.script(jmolview1, "background black");
	Jmol.script(jmolview1, "ribbon ONLY");
	Jmol.script(jmolview2, "load /my_examples/1cdw/1cdw_unboundREDUCED.pdb");
	Jmol.script(jmolview2, "rotate");
	Jmol.script(jmolview2, "background black");
	Jmol.script(jmolview2, "ribbon ONLY");
	Jmol.script(jmolview3, "load /my_examples/1cdw/1cdw_boundREDUCED.pdb");
	Jmol.script(jmolview3, "rotate");
	Jmol.script(jmolview3, "background black");
	Jmol.script(jmolview3, "select :A");
	
	Jmol.script(jmolview3, "{*}.property_KL = load('/my_examples/1cdw/KL.dat')");
	Jmol.script(jmolview3, "isosurface sasurface map color range -3 3 color blue to red 50 property hydrophobicity");
	
	Jmol.script(jmolview3, "select :B");
	Jmol.script(jmolview3, "color orange");
	Jmol.script(jmolview3, "select :C");
	Jmol.script(jmolview3, "color orange");
	Jmol.script(jmolview3, "DATA clear");
	Jmol.script(jmolview3, "end property_KL");
	Jmol.script(jmolview4, "load /my_examples/1cdw/1cdw_boundREDUCED.pdb");
	Jmol.script(jmolview4, "rotate");
	Jmol.script(jmolview4, "background black");
	Jmol.script(jmolview4, "select :A");
	
	Jmol.script(jmolview4, "property_P = load('/my_examples/1cdw/JSMOLmapping_1cdw_boundREDUCED.pdb.txt')");
	Jmol.script(jmolview4, "set propertyDataField = 4");
	Jmol.script(jmolview4, "DATA property_P");
	Jmol.script(jmolview4, "isosurface map property_P");
	Jmol.script(jmolview4, "isosurface sasurface color absolute 0 1 map property_P");
	
	Jmol.script(jmolview4, "select :B");
	Jmol.script(jmolview4, "color orange");
	Jmol.script(jmolview4, "select :C");
	Jmol.script(jmolview4, "color orange");
	Jmol.script(jmolview4, "DATA clear");
	Jmol.script(jmolview4, "end property_P");
	Jmol.script(jmolview5, "load /my_examples/1cdw/1cdw_boundREDUCED.pdb");
	Jmol.script(jmolview5, "rotate");
	Jmol.script(jmolview5, "background black");
	Jmol.script(jmolview5, "dots ONLY");
	Jmol.script(jmolview5, "color dots white");
	Jmol.script(jmolview6, "load /my_examples/1cdw/1cdw_boundREDUCED.pdb");
	Jmol.script(jmolview6, "rotate");
	Jmol.script(jmolview6, "background black");
	Jmol.script(jmolview6, "dots ONLY");
	Jmol.script(jmolview6, "color dots white");
}
function myExample2() {
  Jmol.script(jmolview1, "load /my_examples/6vw1/6vw1_boundREDUCED.pdb");
	Jmol.script(jmolview1, "rotate");
	Jmol.script(jmolview1, "background black");
	Jmol.script(jmolview1, "ribbon ONLY");
	Jmol.script(jmolview1, "select 597-789");
	Jmol.script(jmolview1, "color red");
  Jmol.script(jmolview2, "load /my_examples/6vw1/6vw1_unboundREDUCED.pdb");
	Jmol.script(jmolview2, "rotate");
	Jmol.script(jmolview2, "background black");
	Jmol.script(jmolview2, "ribbon ONLY");
	Jmol.script(jmolview3, "load /my_examples/6vw1/6vw1_boundREDUCED.pdb");
	Jmol.script(jmolview3, "rotate");
	Jmol.script(jmolview3, "background black");
	Jmol.script(jmolview3, "select 1-596");
	Jmol.script(jmolview3, "isosurface sasurface");
	Jmol.script(jmolview3, "property_KL = load('/my_examples/6vw1/JSMOLmapping_6vw1_boundREDUCED.pdb.txt')");
	Jmol.script(jmolview3, "set propertyDataField = 3");
	Jmol.script(jmolview3, "DATA property_KL");
	Jmol.script(jmolview3, "isosurface map property_KL");
	Jmol.script(jmolview3, "color isosurface @{color('blue' 'red' 50,true)}");
	Jmol.script(jmolview3, "color isosurface translucent");
	Jmol.script(jmolview3, "select 597-789");
	Jmol.script(jmolview3, "color red");
	Jmol.script(jmolview3, "DATA clear");
	Jmol.script(jmolview3, "end property_KL");
	Jmol.script(jmolview4, "load /my_examples/6vw1/6vw1_boundREDUCED.pdb");
	Jmol.script(jmolview4, "rotate");
	Jmol.script(jmolview4, "background black");
	Jmol.script(jmolview4, "select 1-596");
	Jmol.script(jmolview4, "isosurface sasurface");
	Jmol.script(jmolview4, "property_P = load('/my_examples/6vw1/JSMOLmapping_6vw1_boundREDUCED.pdb.txt')");
	Jmol.script(jmolview4, "set propertyDataField = 4");
	Jmol.script(jmolview4, "DATA property_P");
	Jmol.script(jmolview4, "isosurface map property_P");
	Jmol.script(jmolview4, "color isosurface @{color('red' 'white' 50,true)}");
	Jmol.script(jmolview4, "color isosurface translucent");
	Jmol.script(jmolview4, "select 597-789");
	Jmol.script(jmolview4, "color red");
	Jmol.script(jmolview5, "load /my_examples/6vw1/6vw1_boundREDUCED.pdb");
	Jmol.script(jmolview5, "rotate");
	Jmol.script(jmolview5, "background black");
	Jmol.script(jmolview5, "dots ONLY");
	Jmol.script(jmolview5, "color dots white");
	Jmol.script(jmolview6, "load /my_examples/6vw1/6vw1_boundREDUCED.pdb");
	Jmol.script(jmolview6, "rotate");
	Jmol.script(jmolview6, "background black");
	Jmol.script(jmolview6, "dots ONLY");
	Jmol.script(jmolview6, "color dots white");
}
function myExample3() {
  Jmol.script(jmolview1, "load /my_examples/1uwh/1uwh_boundREDUCED.pdb");
	Jmol.script(jmolview1, "rotate");
	Jmol.script(jmolview1, "background black");
	Jmol.script(jmolview1, "delete HOH");
	Jmol.script(jmolview1, "select 1-276");
	Jmol.script(jmolview1, "ribbon ONLY");
	Jmol.script(jmolview1, "select 277");
	Jmol.script(jmolview1, "color lime");
	Jmol.script(jmolview1, "spacefill ON");
	Jmol.script(jmolview2, "load /my_examples/1uwh/1uwh_unboundREDUCED.pdb");
	Jmol.script(jmolview2, "rotate");
	Jmol.script(jmolview2, "background black");
	Jmol.script(jmolview2, "ribbon ONLY");
	Jmol.script(jmolview3, "load /my_examples/1uwh/1uwh_boundREDUCED.pdb");
	Jmol.script(jmolview3, "rotate");
	Jmol.script(jmolview3, "background black");
	Jmol.script(jmolview3, "select 1-276");
	Jmol.script(jmolview3, "isosurface sasurface");
	Jmol.script(jmolview3, "property_KL = load('/my_examples/1uwh/JSMOLmapping_1uwh_boundREDUCED.pdb.txt')");
	Jmol.script(jmolview3, "set propertyDataField = 3");
	Jmol.script(jmolview3, "DATA property_KL");
	Jmol.script(jmolview3, "isosurface map property_KL");
	Jmol.script(jmolview3, "color isosurface @{color('blue' 'red' 50,true)}");
	Jmol.script(jmolview3, "color isosurface translucent");
	Jmol.script(jmolview3, "select 277");
	Jmol.script(jmolview3, "color lime");
	Jmol.script(jmolview3, "DATA clear");
	Jmol.script(jmolview3, "end property_KL");
	Jmol.script(jmolview4, "load /my_examples/1uwh/1uwh_boundREDUCED.pdb");
	Jmol.script(jmolview4, "rotate");
	Jmol.script(jmolview4, "background black");
	Jmol.script(jmolview4, "select 1-276");
	Jmol.script(jmolview4, "isosurface sasurface");
	Jmol.script(jmolview4, "property_P = load('/my_examples/1uwh/JSMOLmapping_1uwh_boundREDUCED.pdb.txt')");
	Jmol.script(jmolview4, "set propertyDataField = 4");
	Jmol.script(jmolview4, "DATA property_P");
	Jmol.script(jmolview4, "isosurface map property_P");
	Jmol.script(jmolview4, "color isosurface @{color('red' 'white' 50,true)}");
	Jmol.script(jmolview4, "color isosurface translucent");
	Jmol.script(jmolview4, "select 277");
	Jmol.script(jmolview4, "color lime");
	Jmol.script(jmolview5, "load /my_examples/1uwh/1uwh_boundREDUCED.pdb");
	Jmol.script(jmolview5, "rotate");
	Jmol.script(jmolview5, "background black");
	Jmol.script(jmolview5, "dots ONLY");
	Jmol.script(jmolview5, "color dots white");
	Jmol.script(jmolview6, "load /my_examples/1uwh/1uwh_boundREDUCED.pdb");
	Jmol.script(jmolview6, "rotate");
	Jmol.script(jmolview6, "background black");
	Jmol.script(jmolview6, "dots ONLY");
	Jmol.script(jmolview6, "color dots white");
}

$("#view1").html(Jmol.getAppletHtml(jmolview1));
$("#view2").html(Jmol.getAppletHtml(jmolview2));
$("#view3").html(Jmol.getAppletHtml(jmolview3));
$("#view4").html(Jmol.getAppletHtml(jmolview4));
$("#view5").html(Jmol.getAppletHtml(jmolview5));
$("#view6").html(Jmol.getAppletHtml(jmolview6));
</script>

<!--=============================================
	D3.js plot -  KL to avg difference transition bar graph
	-->

<script>
	
</script>


<!--	=============================================	-->


